<template>
  <div id="nav" class="fixed top-0 left-0 z-50 w-full " :class="{ 'text-white bgBlack h-16 p-2 transition-all duration-200 ': scrollPosition > 100, active: isActive}" >
    <div class="flex flex-col mx-auto md:grid md:items-center md:justify-center md:grid-cols-3 maxWidth ">
        <div class="flex justify-center md:justify-start">
            <router-link class="flex items-center justify-center navbar-brand" @click="toggleNav" to="/">
            <svg width="50" height="50" viewBox="0 0 289 127" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g filter="url(#filter0_d_73_436)">
                <path d="M9.93 80V62.12H4.05V59H19.23V62.12H13.17V80H9.93ZM36.9352 80V59H40.1752V80H36.9352ZM23.2252 80V59H26.4652V80H23.2252ZM24.6352 71.09V67.97H38.3752V71.09H24.6352ZM46.0474 80V59H59.2774V62.12H49.2874V76.88H59.2774V80H46.0474ZM47.5174 70.79V67.67H57.6274V70.79H47.5174ZM81.0434 80.18C79.4234 80.18 77.9734 79.83 76.6934 79.13C75.4134 78.41 74.4034 77.43 73.6634 76.19C72.9434 74.93 72.5834 73.51 72.5834 71.93V58.97H75.8234V71.66C75.8234 72.68 76.0634 73.6 76.5434 74.42C77.0234 75.22 77.6534 75.86 78.4334 76.34C79.2334 76.82 80.1034 77.06 81.0434 77.06C82.0434 77.06 82.9434 76.82 83.7434 76.34C84.5634 75.86 85.2134 75.22 85.6934 74.42C86.1734 73.6 86.4134 72.68 86.4134 71.66V58.97H89.5034V71.93C89.5034 73.51 89.1334 74.93 88.3934 76.19C87.6734 77.43 86.6734 78.41 85.3934 79.13C84.1134 79.83 82.6634 80.18 81.0434 80.18ZM95.0904 80V59H104.03C105.23 59 106.33 59.3 107.33 59.9C108.35 60.48 109.16 61.28 109.76 62.3C110.36 63.3 110.66 64.43 110.66 65.69C110.66 66.83 110.36 67.89 109.76 68.87C109.16 69.85 108.36 70.64 107.36 71.24C106.36 71.82 105.25 72.11 104.03 72.11H98.3304V80H95.0904ZM107.57 80L102.23 70.52L105.56 69.77L111.5 80.03L107.57 80ZM98.3304 68.99H104.33C104.91 68.99 105.43 68.85 105.89 68.57C106.35 68.27 106.71 67.87 106.97 67.37C107.23 66.85 107.36 66.28 107.36 65.66C107.36 64.96 107.19 64.35 106.85 63.83C106.53 63.29 106.07 62.87 105.47 62.57C104.89 62.27 104.23 62.12 103.49 62.12H98.3304V68.99ZM115.95 80V59H124.71C126.05 59 127.18 59.2 128.1 59.6C129.02 60 129.71 60.6 130.17 61.4C130.65 62.18 130.89 63.14 130.89 64.28C130.89 65.42 130.57 66.39 129.93 67.19C129.31 67.99 128.44 68.54 127.32 68.84V68.24C128.26 68.44 129.08 68.8 129.78 69.32C130.48 69.82 131.02 70.45 131.4 71.21C131.8 71.97 132 72.84 132 73.82C132 74.82 131.84 75.71 131.52 76.49C131.22 77.25 130.76 77.89 130.14 78.41C129.54 78.93 128.81 79.33 127.95 79.61C127.09 79.87 126.11 80 125.01 80H115.95ZM119.19 76.88H124.83C126.05 76.88 127 76.61 127.68 76.07C128.36 75.53 128.7 74.76 128.7 73.76C128.7 73.14 128.53 72.61 128.19 72.17C127.87 71.73 127.41 71.4 126.81 71.18C126.21 70.94 125.5 70.82 124.68 70.82H119.19V76.88ZM119.19 67.7H124.53C125.13 67.7 125.66 67.58 126.12 67.34C126.6 67.1 126.97 66.77 127.23 66.35C127.51 65.93 127.65 65.45 127.65 64.91C127.65 64.01 127.35 63.32 126.75 62.84C126.15 62.36 125.29 62.12 124.17 62.12H119.19V67.7ZM134.18 80L142.31 59H145.61L153.68 80H150.23L145.43 67.34C145.37 67.2 145.25 66.86 145.07 66.32C144.91 65.78 144.72 65.18 144.5 64.52C144.28 63.86 144.08 63.26 143.9 62.72C143.72 62.16 143.6 61.8 143.54 61.64L144.23 61.61C144.11 61.95 143.96 62.38 143.78 62.9C143.62 63.42 143.44 63.97 143.24 64.55C143.06 65.13 142.88 65.68 142.7 66.2C142.52 66.7 142.37 67.12 142.25 67.46L137.48 80H134.18ZM137.78 74.78L138.98 71.66H148.52L149.9 74.78H137.78ZM157.376 80V59H160.286L173.126 76.19L172.646 76.46C172.506 75.64 172.386 74.69 172.286 73.61C172.206 72.53 172.146 71.34 172.106 70.04C172.066 68.74 172.046 67.36 172.046 65.9V59H175.286V80H172.316L159.686 63.44L160.016 63.02C160.156 64.54 160.266 65.79 160.346 66.77C160.426 67.73 160.486 68.5 160.526 69.08C160.566 69.66 160.586 70.12 160.586 70.46C160.606 70.78 160.616 71.05 160.616 71.27V80H157.376ZM196.053 80.3C194.333 80.3 192.813 79.96 191.493 79.28C190.193 78.6 189.073 77.58 188.133 76.22L190.353 73.67C191.333 75.07 192.273 76.04 193.173 76.58C194.073 77.12 195.143 77.39 196.383 77.39C197.143 77.39 197.833 77.27 198.453 77.03C199.073 76.79 199.563 76.46 199.923 76.04C200.283 75.62 200.463 75.14 200.463 74.6C200.463 74.24 200.403 73.9 200.283 73.58C200.163 73.26 199.973 72.97 199.713 72.71C199.473 72.45 199.153 72.21 198.753 71.99C198.373 71.77 197.923 71.58 197.403 71.42C196.883 71.24 196.283 71.09 195.603 70.97C194.523 70.75 193.583 70.46 192.783 70.1C191.983 69.74 191.313 69.29 190.773 68.75C190.233 68.21 189.833 67.6 189.573 66.92C189.313 66.22 189.183 65.44 189.183 64.58C189.183 63.44 189.503 62.43 190.143 61.55C190.783 60.67 191.643 59.98 192.723 59.48C193.823 58.96 195.053 58.7 196.413 58.7C198.033 58.7 199.443 59.02 200.643 59.66C201.863 60.28 202.823 61.19 203.523 62.39L201.243 64.64C200.643 63.66 199.923 62.91 199.083 62.39C198.263 61.87 197.343 61.61 196.323 61.61C195.543 61.61 194.863 61.73 194.283 61.97C193.703 62.21 193.243 62.55 192.903 62.99C192.583 63.41 192.423 63.91 192.423 64.49C192.423 64.91 192.503 65.3 192.663 65.66C192.823 66 193.063 66.31 193.383 66.59C193.723 66.85 194.173 67.09 194.733 67.31C195.293 67.51 195.963 67.69 196.743 67.85C197.843 68.09 198.823 68.4 199.683 68.78C200.543 69.14 201.273 69.57 201.873 70.07C202.473 70.57 202.923 71.13 203.223 71.75C203.543 72.37 203.703 73.04 203.703 73.76C203.703 75.1 203.393 76.26 202.773 77.24C202.153 78.22 201.273 78.98 200.133 79.52C198.993 80.04 197.633 80.3 196.053 80.3ZM222.004 80V59H225.244V80H222.004ZM208.294 80V59H211.534V80H208.294ZM209.704 71.09V67.97H223.444V71.09H209.704ZM228.926 80L237.056 59H240.356L248.426 80H244.976L240.176 67.34C240.116 67.2 239.996 66.86 239.816 66.32C239.656 65.78 239.466 65.18 239.246 64.52C239.026 63.86 238.826 63.26 238.646 62.72C238.466 62.16 238.346 61.8 238.286 61.64L238.976 61.61C238.856 61.95 238.706 62.38 238.526 62.9C238.366 63.42 238.186 63.97 237.986 64.55C237.806 65.13 237.626 65.68 237.446 66.2C237.266 66.7 237.116 67.12 236.996 67.46L232.226 80H228.926ZM232.526 74.78L233.726 71.66H243.266L244.646 74.78H232.526ZM256.046 80L247.646 59H251.336L256.346 71.75C256.586 72.37 256.796 72.93 256.976 73.43C257.176 73.93 257.346 74.39 257.486 74.81C257.626 75.21 257.756 75.59 257.876 75.95C257.996 76.31 258.116 76.67 258.236 77.03L257.456 77.06C257.596 76.58 257.746 76.08 257.906 75.56C258.066 75.04 258.246 74.47 258.446 73.85C258.666 73.23 258.926 72.53 259.226 71.75L263.876 59H267.656L259.196 80H256.046ZM271.311 80V59H284.541V62.12H274.551V76.88H284.541V80H271.311ZM272.781 70.79V67.67H282.891V70.79H272.781Z" fill="white"/>
                </g>
                <path d="M135.303 33.6425C118.513 36.4125 113.533 46.0224 113.533 46.0224L115.663 64.6624C115.663 64.6624 117.583 57.6825 129.603 51.2625C142.063 44.6025 156.783 42.4725 163.333 30.7625L135.303 33.6425Z" fill="white"/>
                <path d="M137.023 104.932C137.023 104.932 140.643 98.7424 145.053 94.6224C153.513 86.7124 158.233 87.7024 162.153 76.7524V95.2524C162.153 95.2624 159.503 104.762 137.023 104.932V104.932Z" fill="white"/>
                <path d="M123.103 6.3925C125.423 3.5325 128.413 1.6925 131.693 0.8625C136.233 -0.2875 141.703 -0.2875 146.243 0.8625C149.513 1.6925 152.503 3.5325 154.803 6.3925C156.283 8.2125 158.843 11.4425 158.113 14.1525C157.733 15.5625 156.703 15.8225 155.623 16.2625C152.983 17.3225 150.203 17.8525 147.393 18.0925C141.653 18.5625 136.163 18.5625 130.433 18.0925C127.633 17.8525 124.853 17.3125 122.223 16.2625C121.143 15.8225 120.123 15.5625 119.753 14.1525C119.023 11.4325 121.613 8.2125 123.103 6.3925ZM166.103 27.4325C163.713 28.6325 161.173 29.5025 158.443 30.0325C154.713 30.7625 150.903 31.2225 147.073 31.4825C141.723 31.8425 136.083 31.8525 130.643 31.4825C126.813 31.2225 123.013 30.7625 119.293 30.0325C116.553 29.5025 114.033 28.6325 111.653 27.4325C109.353 26.2725 108.273 24.1325 109.533 21.9025C110.433 20.3125 112.063 19.0725 114.083 18.7325C115.173 18.5325 119.513 22.9825 138.583 22.9825C158.023 22.9825 162.643 18.5325 163.753 18.7325C165.773 19.0825 167.393 20.3125 168.283 21.9025C169.503 24.1325 168.413 26.2725 166.103 27.4325ZM154.913 119.683C152.593 122.723 149.593 124.693 146.293 125.573C141.723 126.793 136.223 126.793 131.643 125.573C128.353 124.693 125.333 122.723 123.003 119.683C122.483 119.003 121.823 118.113 121.213 117.143C123.563 118.493 126.153 119.503 128.923 120.043C135.173 121.263 142.693 121.263 148.953 120.043C151.743 119.493 154.353 118.472 156.713 117.092C156.113 118.092 155.443 118.993 154.913 119.683ZM166.613 102.893C165.883 105.493 164.043 108.123 161.773 109.573C159.193 111.223 156.463 112.603 153.543 113.473C144.253 116.243 132.813 116.243 123.533 113.473C120.623 112.603 117.913 111.223 115.343 109.573C113.083 108.113 111.253 105.483 110.553 102.893C110.193 101.573 110.123 100.102 110.743 98.8125C111.233 97.7625 112.413 96.2025 113.733 96.6425C114.483 96.8925 115.043 97.9425 115.503 98.5325C116.193 99.4225 116.973 100.213 117.873 100.923C119.683 102.353 121.813 103.373 124.023 104.113C132.653 107.003 144.453 107.013 153.123 104.113C155.343 103.373 157.473 102.353 159.293 100.923C160.203 100.213 160.983 99.4225 161.693 98.5325C162.153 97.9425 162.723 96.8925 163.473 96.6425C164.793 96.2025 165.953 97.7625 166.443 98.8125C167.053 100.102 166.983 101.573 166.613 102.893Z" fill="white"/>
                <defs>
                <filter id="filter0_d_73_436" x="0.0498047" y="58.7" width="288.491" height="29.6" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="out"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_73_436"/>
                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_73_436" result="shape"/>
                </filter>
                </defs>
              </svg>
            </router-link>
        </div>

        <div class="flex flex-col items-center justify-center gap-10 no-underline md:grid md:grid-cols-4">
            <router-link @click="toggleNav" to="/" class="text-white no-underline" >Home1</router-link>
            <router-link @click="toggleNav" :to="{ name: 'Services'}" class="text-white no-underline">Services</router-link>
            <router-link @click="toggleNav" :to="{ name: 'Story'}" class="text-white no-underline">Story</router-link>
            <router-link @click="toggleNav" :to="{ name: 'Contact'}" class="text-white no-underline">Contact Us</router-link>
            <router-link v-if="showAdmin" @click="toggleNav" :to="{ name: 'AdminDashBoard'}" class="text-white no-underline">DashBoard</router-link>
        </div>

        <div class="flex items-center justify-end">
            <router-link v-if="!currentUser" @click="toggleNav" :to="{ name: 'Login' }" class="text-white no-underline">Login</router-link>
           <router-link v-if="currentUser" @click="toggleNav" :to="{ name: 'Profile' }" class="pr-1 text-white no-underline">{{ currentUser.customername }}</router-link>
           <h1 class="text-base font-normal text-white no-underline cursor-pointer" v-if="currentUser" @click="logOut">  <span class="text-white "> | </span>  Logout</h1>
        </div>
    </div>
  </div>
  <button id="nav-btn" @click="toggleNav">
    <i style="font-size: 20px" class="fas fa-bars"></i>
  </button>
</template>

<script>
export default {
  data() {
    return {
      isActive: false,
      showAdmin: false,
       scrollPosition: null,
       active: null
    };
  },
  methods: {
    toggleNav() {
      this.isActive = !this.isActive;
    },
    logOut() {
      this.$store.dispatch("auth/logout");
      this.$router.push("/login");
    },
    updateScroll() {
       this.scrollPosition = window.scrollY
    },
  },
  computed: {
    currentUser() {
      return this.$store.state.auth.user;
    },
  },
  created() {
    if (this.currentUser) {
      if (this.currentUser.role == "admin") {
        this.showAdmin = true;
      } else {
        this.showAdmin = false;
      }
    }
  },
  mounted() {
        window.addEventListener('scroll', this.updateScroll);
  }
};
</script>

<style scoped>
img {
  background: transparent;
}
#nav-btn {
  position: fixed;
  top: 10px;
  right: 30px;
  background: transparent;
  padding: 10px;
  border-radius: 50%;
  height: 50px;
  width: 50px;
  border: none;
  outline: none;
  display: none;
  overflow-x: hidden;
}

.colorChange{
  background: red;
}
@media screen and (max-width: 700px) {
  #nav {
    position: fixed;
    height: 100%;
    left: -200vw;
    width: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: left 0.7s linear;
    gap: 40px;
    background: black;
    opacity:1 ;
    z-index: 20;
  }
  #nav.active {
    left: 0;
  }
  #nav-btn {
    display: block;
    z-index: 100;
  } 
}
</style>
//
<a
  href="https://www.facebook.com/The-URBAN-SHAVE-102006302468680"
  target="_blank"
><i  class="fab fb fa-facebook-f"></i></a>
//
<a
  href="https://www.instagram.com/theurbanshave2022/"
  target="_blank"
><i   class="fab in fa-instagram"></i></a>
